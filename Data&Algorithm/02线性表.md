# 线性表 List

## 抽象数据结构
由`零个或多个`数据元素组成的`有限序列`，数据元素之间具有`一对一`的关系，
<br/>
`每个`元素有且只有一个前驱和后继，`第一个`元素无前驱，`最后一个`元素无后继，
<br/>
结构类似于`(a1, a2, a3, ..., an)`这样的链式存储结构

#### 长度
线性表元素个数n(n>=0)定义为线性表的长度，n=0时，称为空表

#### 抽象操作
- InitList
    + 初始化操作，建立一个空的线性表
- ListEmpty
    + 判断是否为空表
- ClearList
    + 清空线性表
- GetElem
    + 获取指定下标的元素值
- LocateElem
    + 定位某个值在表中的下标，没有返回0
- ListInsert
    + 在指定位置插入新元素
- ListDelete
    + 删除指定位置的元素，并返回被删除元素
- ListLength
    + 返回线性表的长度

## 存储结构
线性表有两种物理存储结构
- 顺序结构
- 链式结构

## 顺序结构

#### 结构特点
- 使用一块`连续`的`存储单元`存储线性表的数据元素
- 只需存储`一个`元素的`地址`就可以推算出其他元素的地址

#### 要素
- 地址起始位置与数组数据
- 最大长度：maxSize
- 当前长度：length

#### 地址计算方法
- 假设每个元素占用c个存储单元(字节)，
- 那么第i个元素的存储位置为：`LOC(i) = LOC(1) + c*(i-1)`，LOC表示获取存储位置的函数，如果i大于链表长度则没有
- 通过这个公式，可以得知它的存储时间性能为`O(1)`，这种性能的存储通常称为随机存储结构

#### 性能
- 在`存、取`数据时，时间复杂度都为`O(1)`
- 在`插入、删除`数据时，时间复杂度为`O(n)`

#### 优点
- 无须为元素间的`逻辑关系`增加额外的存储空间
- 可以快速的`存取`任意位置的元素

#### 缺点
- 元素个数变化较大时，难以确定存储空间容量，容易造成`空间碎片`
- `插入和删除`需要移动大量元素

## 链式结构

#### 结构特点
- 使用一组`任意`的`存储单元`存储线性表的数据元素，这组存储单元可以是`未被占用`的任意位置
- 数据元素由`数据域`和`指针域`共同构成，这两部分信息组成数据元素称为`存储映像`，称为`节点`(Node)
    + 数据域：存储数据元素`信息`的域
    + 指针域：存储后续元素`地址`的域(里面存储的信息称为指针或链)

###### 头指针
- 头指针是指向`第一个节点`的指针，即指向`头节点`的指针
- 头指针具有`标识`作用，所以常用头指针作为链表的`名字`(指针变量的名字)
- 无论链表是否为空，头指针均`不为空`
- 头指针是链表的`必要元素`

###### 头节点
- 头节点是为了操作的统一和方便而设计的，放在`第一个`元素节点`之前`
- 头节点`数据域`一般无意思，但也可以用来存放链表的`长度`
- 有了头节点，对`第一个元素`的删除或插入操作就与其他节点保持了`统一`
- 不过头节点`不一定`是链表的`必须要素`

###### 单链表图例
```javascript
// 头指针 -> {头节点, index} -> {a1, index} -> {a2, index} -> ... -> {an, null}
```

###### 空链表图例
```javascript
// 头指针 -> {头节点, null}
```

#### 地址计算方法
- 每个数据元素都会存储`一个`后续元素地址，因为只存储一个地址，所以也叫`单链表`
- 链表中第一个节点的地址叫做`头指针`，最后一个节点指针为`空(null)`
- 第i个元素的存储位置为：`LOC(i) = LOOP_LOC(i)`
- LOOP_LOC表示从`头节点`开始遍历，向后`移动指针`获取地址，直到`第i-1`个地址为止
- 如果一直到`链尾`都没有找到，则证明`没有`这个元素，这种算法思想叫`工作指针后移`

#### 性能
- 在`存、取`数据时，最优时间复杂度为`O(1)`，最差为`O(n)`，平均为`O(n)`
- 在`插入、删除`数据时，最优时间复杂度为`O(1)`，最差为`O(n)`，平均为`O(n)`
- 如果同时`插入或删除x个`元素，那么第一个元素为`O(n)`，后续都为`O(1)`

#### 优点
- 链条`长度无限`，有利于`存储空间`的`充分利用`
- `批量`插入或删除是，只要第一次`O(n)`比较消耗性能，后续都是`O(1)`

#### 缺点
- 需要为元素间的`逻辑关系`增加额外的`存储空间`使用
- `查找`时需要遍历查找，效率`较慢`

#### 初始化方式
- 头插法
    + 从头部插入，效率为O(1)，但是数据为倒序存储
- 尾插法
    + 从尾部插入，效率为O(n)，好处是数据为正序存储

## 顺序结构与链式结构比较

#### 分配方式
- 顺序存储结构用一段`连续的存储单元`依次存储数据元素，且无法容易造成`空间碎片`
- 顺序存储结构`无须`为元素间的`逻辑关系`增加额外的`存储空间`
- 单链表采用链式存储结构，用一组`任意的存储单元`存放数据元素，有利于存储空间的`充分利用`
- 单链表`需要`为元素间的`逻辑关系`增加额外的`存储空间`

#### 时间性能
- 存取，顺序结构`O(1)`，单链表`O(n)`
- 在插入和删除`1个`元素时，两种结构都为`O(n)持平`
- 在插入或删除`x个`元素时，`链式结构`只要计算出指针后，`后续`的操作都为`O(1)`

#### 空间性能
- 顺序存储结构需要`预先分配`空间，大了`浪费`，小了容易`溢出`
- 单链表`无需预先分配`空间，只要有就可以分配，元素个数`不受限`

#### 结论
- 顺序存储结构适合在元素`个数稳定`，需要`频繁查找`，很少插入和删除的场景中使用
- 单链表适合在`频繁插入和删除`的场景中使用
