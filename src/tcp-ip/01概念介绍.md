# **TCP/IP**

## 网络模型

### **7层模型**

TCP/IP 协议中的4层分别是应用层、会话层、传输层、网络层、链路层、和物理层。

### **4层模型**

TCP/IP 协议中的4层分别是应用层、传输层、网络层、和链路层。

## 七层模型详解

### **链路层**

链路层是用于定义物理传输通道，通常是对某些网络连接设备的驱动协议，例如针对光纤、网线提供的驱动。

### **网络层**

网络层是整个 TCP/IP 协议的核心，它主要用于将传输的数据进行分组，将分组数据发送到目标计算机或者网络。

### **传输层**

主要使用网络程序进行通信，在进行网络通信时，可以采用 TCP 协议，也可以采用 UDP 协议。

> #### UDP 协议
>
> UDP 协议是无连接通信协议，即在数据传输时，数据的发送端和接收端不建立逻辑连接。简单来说，当一台计算机向另外一台计算机发送数据时，发送端不会确认接收端是否存在，就会发出数据，同样接收端在接收数据时，也不会向发送端反馈是否收到数据。
由于使用 UDP 协议消耗资源小，通信效率高，所以通常都会用于音频、视频和普通数据的传输，例如视频会议都使用 UDP 协议，因为这种情况下偶尔丢失一两个数据包，也不会对接收结果产生太大影响。

> #### TCP 协议
>
> TCP 协议是面向连接的通信协议，即在传输数据前先在发送端和接收端建立逻辑连接，然后再传输数据，它提供了两台计算机之间可靠无差错的数据传输。再 TCP 连接中必须要明确客户端与服务器端，由客户端向服务器发出连接请求，每次连接的创建都需要经过”三次握手“。第一次握手，客户端向服务器端发出连接请求，等待服务器确认；第二次握手，服务器向客户端回送一个响应，通知客户端收到了连接请求；第三次握手，客户端再次向服务器端发送确认信息，确认连接。

### **应用层**

主要负责应用程序的协议，例如 HTTP 协议、FTP 协议等。

### **其他相关概念**

- IP 地址：在 TCP/IP 协议中，这个标识号就是 IP 地址，它可以唯一标识一台计算机。目前，IP 地址广泛使用的版本是 IPv4，它是由4个字节大小的二进制数来表示，如：00001010000000000000000000000001。由于二进制形式表示的IP地址不利于记忆和处理，因此通常会将IP地址写成十进制的形式，每个字节用一个十进制数字(0-255)表示，数字间用符号”.“分开，如”192.168.1.100“。

- 端口号：在计算机中，每个应用程序具有不同的端口号；通过 IP 地址可以连接到指定计算机，但如果想访问目标计算机中的某个应用程序，指定端口号即可。端口号是用两个字节表示，它的取值范围是0~65535（2^16-1），其中0~1013之间的端口号用于一些知名的网络服务和应用，用户和普通应用程序需要使用1014以上的端口号，从而避免端口被占用的情况。

- - -

## 总结

- IP 地址：用来唯一标识我们自己的电脑，代表电脑在网络中的坐标
- 端口号：用来区别同一台电脑中不同的应用程序
- UDP：传输协议，传送速度快，但是容易丢失数据，可用在视频、语音聊天等领域
- TCP：传输协议，传送稳定，不会丢失数据，可用在文件传输等领域
