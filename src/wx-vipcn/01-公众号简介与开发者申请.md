# 微信公众平台

## 公众号的种类

[区别和形式](http://kf.qq.com/faq/170815aUZjeQ170815mU7bI7.html)

目前公众号主要分为三种：服务号、订阅号、小程序；还有企业微信只针对企业用户使用，暂且不算在内。

| 名称 | 服务对象 | 业务类型 |
|------|---------|-----|
| 服务号 | 企业 | 任意 |
| 订阅号 | 个人或媒体 | 信息传播 |
| 小程序 | 企业 | 任意 |

> 服务号：给企业提供用户管理与业务服务的能力，实现业务扩张。
> 
> 订阅号：给个人或媒体提供信息传播的能力，与读者建立更好的沟通。
> 
> 小程序：作用基本同服务号，比服务号H5应用体验更好，但无法替代非H5的沟通系统，可以实现互补。

## 不同类型公众号的入口归纳

| 名称 | 关注后所在位置 |
|------|---------|
| 服务号 | 联系人列表 |
| 订阅号 | 归纳在订阅号 |
| 小程序 | 归纳在最近使用 |

> 服务号：是以微信用户的一个联系人形式存在的，在聊天记录的列表里可以找到。
>
> 订阅号：被统一归纳在订阅号入口当中，在聊天记录的列表里可以找到订阅号入口，点击入口就会看到所有订阅号。
>
> 小程序：并不在用户的聊天列表当中，毕竟不能与它对话，使用过的小程序在微信的最近使用中可以找到。

## 申请自己的公众号

[微信公众平台首页](https://mp.weixin.qq.com)

对于个人而言，无论是学习还是维护个人公众号，只要不涉及支付环节，注册时订阅号足以。如果需要支付功能，那么需要注册服务号，服务号注册时需要企业相关证书。

### 大致注册流程

![账户注册入口-截图](https://github.com/guopengfei116/drop/blob/master/img/wx-vipcn/register_entry.png?raw=true)

![注册时类型选择-截图](https://github.com/guopengfei116/drop/blob/master/img/wx-vipcn/register_type_select.png?raw=true)

![公众号信息填写-截图](https://github.com/guopengfei116/drop/blob/master/img/wx-vipcn/register_info_setting.png?raw=true)

## 成为开发者

登陆申请好的公众账户，就会进入微信给公众号用户提供的Web后台管理系统，通过这个系统，在页面简单操作即可满足自动回复，消息推送，粉丝管理等需求。

![Web后台系统操作-截图](https://github.com/guopengfei116/drop/blob/master/img/wx-vipcn/visual_operation.png?raw=true)

当然，如果需要结合自身业务进行定制，那么就需要申请成为开发者，然后调用微信提供的api结合自身业务进行扩展，对于我们而言，要的就是成为开发者！

1. 首先在左侧菜单中找到：开发 => 基本配置
2. 然后接受同意，成为开发者
3. 获取开发者ID(AppID)与开发者密码(AppSecret)，并妥善保存(很重要)
4. 配置URL白名单，把自己的服务器IP填上去，保证只有指定的服务器能获取到access_token(很重要)

![基本配置入口-截图](https://github.com/guopengfei116/drop/blob/master/img/wx-vipcn/base_settings_entry.png?raw=true)

![同意成为开发者-截图](https://github.com/guopengfei116/drop/blob/master/img/wx-vipcn/base_settings_developer.png?raw=true)

![启用开发者密码-截图](https://github.com/guopengfei116/drop/blob/master/img/wx-vipcn/base_settings_id_secret.png?raw=true)

![AppSecret获取时身份认证-截图](https://github.com/guopengfei116/drop/blob/master/img/wx-vipcn/base_settings_secret_sys.png?raw=true)

![配置URL白名单-截图](https://github.com/guopengfei116/drop/blob/master/img/wx-vipcn/base_settings_token_ip.png?raw=true)

### 名词简要说明

- AppID：公众应用唯一身份认证
- AppSecret：公众应用密码，需妥善保存
- access_token：调用微信接口所需的凭证，每个接口调用都需要，可通过AppID和AppSecret获取
- URL白名单：增加获取access_token的安全性，当密码泄露时，通过白名单过滤非法请求
- [白名单官方说明](https://mp.weixin.qq.com/cgi-bin/announce?action=getannouncement&key=1495617578&version=1&lang=zh_CN&platform=2)

## 服务器配置

[服务器配置官方文档](https://mp.weixin.qq.com/wiki?t=resource/res_main&id=mp1421135319)

进行服务器配置时，需要拥有自己的外网服务器，并需要编写服务接口与微信服务器进行通信验证。

## JS安全域名配置

如果要开发H5页面，并使用微信提供的JS-API，那么就需要配置JS接口域名，以保证API调用的安全性。

[JS安全域名配置](https://github.com/guopengfei116/drop/blob/master/img/wx-vipcn/visual_operation.png?raw=true)

## 测试账号申请

[测试账户使用参考文档]<https://blog.csdn.net/hzw2312/article/details/69664485>
