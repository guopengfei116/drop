# Try Catch

## 工作原理

类会跟随一张异常表（exception table），每一个try catch都会在这个表里添加行记录，每一个记录都有4个信息（try catch的开始地址，结束地址，异常的处理起始位，异常类名称）。

当代码在运行时抛出了异常，首先拿着抛出位置到异常表中查询是否被catch，如果有则跑到异常处理的起始位置开始处理，如果没有找到则原地return，并且copy异常的引用给父调用，接着看父调用的异常表，以此类推。

## 性能影响

如果代码中使用了try catch语句，但运行时并没有发生异常，那么就不会查异常表，也就不会消耗额外性能；
同时try catch语句的使用量，以及所作用的范围同样不会影响性能，只是异常发生时，异常处理的开始地址与结束地址不同差而已。

如果代码中触发了异常，那么就会影响性能，除了查异常表外，还有处理异常的逻辑代码；
所以编写代码时要尽量避免异常，比如空指针检测等。
