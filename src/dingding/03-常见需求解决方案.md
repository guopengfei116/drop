# 常见需求解决方案收集汇总

## 表单底部固定按钮

问题描述1：

假设有一个表单页面，上面是表单项，下面是固定在底部的重置&提交按钮，当用户点击页面最下方的输入框获得焦点后，手机从底部会弹出输入法键盘交互界面，这时候定位(absolute)在底部的按钮就会错位乱显示，视觉效果很差，让人以为存在页面bug。

通过真机测试，Android和老版的IOS都会出现此问题，新版的IOS无此问题。

问题描述2：

如果把上面absolute定位改为fixed定位，那么按钮不会出现错位，而是定位在键盘上面，同时会遮盖掉最后一个输入框，导致用户无法看到所输内容。

解决方案：

把form表单的高度设为最小100%，设为relative定位，然后在最后一个表单下方放置一个和按钮高度一样的隐藏占位块，接下来按钮相对form表单进行底部绝对定位。

当输入框调起键盘时，按钮会定位再键盘上面，同时因为有一个隐藏的表单进行占位，所以对用户输入的表单项不会造成任何遮盖。

```css
form {
  position: relative;
  min-height: 100%;
}
form .bottom-buttons-placeholder {
  height: 97rpx;
  visibility: hidden;
}
form .bottom-buttons {
  width: 100%;
  height: 97rpx;
  position: absolute;
  left: 0;
  bottom: 0;
  display: flex;
  justify-content: flex-start;
}
form .bottom-buttons .button {
  flex: 1;
  border-radius: 0;
}
```

## 跨页面表单数据传递 与 页面入栈返回问题

问题描述1：

假设从A页面进入一个列表页，列表页有一个筛选按钮，点击后进入筛选页面，该页面有很多筛选项，填写完毕后可点击保存按钮跳回列表页，列表页根据筛选条件重新请求接口进行渲染。

除此之外，还要保证用户点击返回按钮后，不会再次进入筛选页，而是返回到A页面（即列表页的上一个页面）。

问题描述2：

假设从A页面进入一个表单页，表单的某个项需要进入一个选项列表页面进行选取，选择后要携带所选参数跳回表单页回显，同时还要保证原表单的输入项内容不丢失。

除此之外，还要保证用户点击返回按钮后，不会再次进入选项页，而是返回到A页面（即表单页的上一个页面）。
